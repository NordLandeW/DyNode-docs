# 更新日志

本页面包含 DyNode 版本更新的详细说明与相关指引。

## [v0.1.18.1](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.18.1) (2025-07-17)

该版本包含一些错误修复。

* 修复了 Hold 粒子可能一次性添加过多的问题。
* 修复了当文件后缀包含大写字母时，背景文件无法加载的问题。
* 修复了表达式功能无法正确处理正负号的问题。

## [v0.1.18](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.18) (2025-06-16)

该版本包含主要的视觉更新与性能优化。

* 重新调整了粒子效果。
* 调整并新增了一些已有和缺失的视觉效果。
* 调整了 `Sakura` 与 `Piano` 主题的视觉效果。
  * 这些额外的主题可能在一定程度上会影响谱面可读性。
* 优化了程序的运行效率。
  * 对特殊效果和粒子的数量添加了限制。
  * DyNode 目前使用的引擎与架构难以支持大量物件的同屏渲染，同屏物件超过 5000 将会造成严重的效率问题。
* 现在在按下 <kbd>Alt</kbd> 键时使用鼠标左键可以快速调整播放进度条。
* 修复了一部分其它的 UX 问题。
* 修改了自动更新的下载源。
  * 现在 Github Releases 为首要下载源。如果下载出现问题，请尝试启用系统代理。

## [v0.1.17.4](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.17.4) (2025-05-07)

该版本包含一些问题修复。

* 修复了背景视频无法正常播放的问题。
  * 回退 Gamemaker Runtime 至 2024.8 。
* 修复了 XML 文件包含未知的难度符号导致游戏崩溃的问题。
* 修复了随机性的项目保存崩溃问题。
* 修复了数个编码错误导致的崩溃问题。
* 暂时移除了背景模糊效果。

## [v0.1.17.2](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.17.2) (2025-03-07)

该版本包含重要的稳定性改进与错误修复。

* 大幅度地改进了项目保存的可靠性。
* 修复了偶发性地保存空项目导致项目进度丢失的问题。
  * 这个问题由一个外部库引发，频率随机且原因不明。

## [v0.1.17.1](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.17.1) (2025-02-27)

该版本包含一些问题修复。

* 修复了一系列双击吸附音符输入被错误清空的问题。
* 更新压缩库（Zstandard）版本到 1.5.7。
* 更换了数个链接。

## [v0.1.17](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.17) (2025-02-22)

该版本包含功能调整与问题修复。

* 现在可以反选单个音符了。
* 现在可以在配置中设置项目的压缩等级。
* 现在粒子效果启用与否被移动到了全局设置之中。
* 修复了不同帧率下粒子效果表现不同步的问题。
* 改善了项目保存时的错误处理与稳定性。
* 修复了英文语言下显示格式错误的问题。
* 修复了更新时文件损坏导致更新过程停止的问题。
* 重构了XML谱面的导入部分以提升处理效率。

## [v0.1.16.10](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.16.10) (2024-12-29)

该版本包含一些问题修复与功能调整。

* 现在上方向键只会在双侧与正面之间切换。
* 修复了快速复制忽略 Hold 音符尾部时间的问题。
* 修复了项目在吸附/复制模式下自动保存后再次打开报错的问题。
  * 若当前正处于吸附模式下，当次自动保存现在将被跳过。
* 修复了一个潜在的内存泄漏问题。

## [v0.1.16.9](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.16.9) (2024-12-13)

该版本包含一些功能调整、问题修复与本地化更新。

* 本地化更新。
  * 更新语言 English / 繁體中文 的翻译文本。
  * 新增语言 日本語。
* 移除了一部分情况下音符显示的不正确的小节数吸附信息。
* 调整了音符吸附时的视觉信息显示。
* 现在可以使用 Alt + 鼠标滚轮 来快速调整吸附音符时的吸附中心音符。
* 调整了 Mixer 的移动逻辑。
* 使 Hold 尾部的消失在视觉上与本家保持一致。

## [v0.1.16.8](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.16.8) (2024-11-25)

该版本包含一些问题修复。

* 修复了在一些情况下全屏时鼠标移至顶部屏幕边缘无法调节时间的问题。
* 修复了自动更新在路径包含中文时无法正常工作的问题。
* 修复了在没有加载谱面时仍进行自动保存的问题。
* 移除了在VSync下的强制刷新率同步。

## [v0.1.16.7](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.16.7) (2024-11-10)

该版本包含一些问题修复。

* 修复了放置音符时调整谱面音符长度的异常表现。
* 修复了在特定情况下音乐在结束之后可能会被重复播放的问题。

## [v0.1.16.5](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.16.5) (2024-10-29)

该版本包含一些问题修复及功能调整。

* 添加了使用<kbd>Backspace + Delete</kbd>组合键删除全部音符的功能。
* 修复了导入.dy文件报错的问题。
* 移除了KPS的过渡动画。

## [v0.1.16.4](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.16.4) (2024-10-12)

该版本包含数个问题修复。

* 修复了快速复制中音符无法吸附到屏幕外的节拍线的问题。
* 修复了在一些情况下输入状态未被正确清空的问题。

## [v0.1.16.3](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.16.3) (2024-09-18)

该版本包含数个问题修复。

* 修复了.dyn文件无法被正确导入的问题。
* 修复了导入时谱面信息未被完全清空导致崩溃的问题。

## [v0.1.16.2](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.16.2) (2024-08-30)

该版本包含数个问题修复。

* 修复了偶发性的启动时崩溃问题。
* 修复了IO的清空过于频繁导致功能键读入丢失的问题。

## [v0.1.16.1](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.16.1) (2024-08-09)

该版本包含一个问题修复。

* 修复了关于选中音符后创建 Timing Point 引发的崩溃等问题。
  * 游戏可能因此崩溃。
  * 可能错误地被视为修改 Timing Point 的功能。

## [v0.1.16](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.16) (2024-08-03)

该版本包含性能优化与问题修复。

* 大幅改进了较大项目保存时的流畅度。
* 改进了较大项目编辑的整体效率。
* 现在在新版本载入旧版本项目时，旧版本项目将被自动备份。
* 改进了一些有关输入的问题。
  * 现在不会在不关注窗口的情况下读取 Ctrl、Alt 等功能键。
* 现在显示全部音符的快捷键被移动至右 Alt 键。
* 现在在回放模式下不会显示自动保存提醒。
* 移除了项目文件内一些不必要的信息。
* 改进了高级表达式功能。
* 添加了数据收集功能。
  * 详见 [快速开始](guide/getting-started.md)。

## [v0.1.15](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.15) (2024-07-25)

该版本包含新功能与一些问题修复。

* 修复了安装路径包含空格时自动更新无法正常工作的问题。
* 减小了项目文件的体积。
  * 因为 .dyn 文件使用了新的保存方法，之前的版本无法读取这一版本下的 .dyn 文件。
* 现在自动保存功能会将项目进行备份。
* 现在可以使用 <kbd>Ctrl+D</kbd> 快速复制音符到下一节拍线上。
* 修复了一些过时的错误信息。
* 修复了提醒信息有时候间隔过大的问题。
* 现在当 VSync 启用时，最大 FPS 将锁定在屏幕刷新率上。
* 一些其它的改进。

## [v0.1.14](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.14) (2024-07-22)

该版本包含新功能、问题修复与性能改进。

### 新特性

* 为统计页面添加了新的功能。
  * 添加了项目用时。
  * 添加了KPS统计。
  * 添加了当前BPM显示。
* 添加了项目另存为功能。
  * 使用<kbd>Ctrl+Shift+S</kbd>另存项目。
* 添加了自动更新功能。
  * 现在可以在 DyNode 中直接获取之后的更新。
* 优化了撤销/还原操作的描述。
  * 现在对操作的描述变得更加具体。
* 现在全选功能仅针对屏幕内的可见音符使用。
* 现在导出到 DyM 格式的谱面功能被移动至<kbd>F6</kbd>。
* 添加了两个新的配置项。
  * `autoSaveTime` 用于调整自动保存的间隔。新的默认值为180秒。
  * `VIDEO_UPDATE_FREQUENCY` 用于调整视频播放的刷新率。新的默认值为60Hz。

### 问题修复

* 暂时缓解了部分全局操作撤销时导致的严重内存泄漏问题。

### 性能优化 / 杂项

* 优化了项目保存时的性能。
* 移除了配置重载功能。

## [v0.1.13.4](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.13.4) (2024-05-12)

该版本包含一些小的问题修复。

* 修复了罕见情况下的精度损失可能导致左右侧的同一时间的音符放置不对齐的问题。
* 修复了误差修正功能可能忽略谱面结尾音符的问题。
* 新增了对误差修正功能的配置`offsetCorrection`，你可以使用此配置调整该功能的修正范围。
* Gamemaker Runtime 版本更改至 2024.4 。

## [v0.1.13.3](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.13.3) (2024-04-12)

该版本包含一些问题修复。

* 修复了双侧编辑模式下粘贴音符时待粘贴音符下落侧可能未被同步的问题。
* 改进了音符出界的提示。
  * 现在音符只在完全不可见的情况下被警告。
  * 修复了音符出界警告多次重复的问题。
* 修复了潜在的剪切 / 吸附音符可能导致应用崩溃的问题。
* 对 MP3 文件音乐延迟（FMOD_MP3_DELAY）的默认设置现在被更改为 0。
  * 该改动只影响全新安装的 DyNode 。
* 修复了潜在的多个关于视频播放的问题。
* Gamemaker Runtime 版本更改至 2024.2 。

## [v0.1.13.2](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.13.2) (2024-02-21)

该版本包含一些小的问题修复与优化。

* 优化了对拖动鼠标修改音符宽度的阈值处理。现在在触发阈值之后才开始计算宽度的变化量。
* 现在你可以在配置文件中修改音符宽度的触发阈值。
* 修复了导入较早版本的Dynamaker谱面文件可能导致崩溃的问题。
* 从这一版本开始，对每个版本的自动更新提示只会出现一次。

## [v0.1.13.1](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.13.1) (2024-01-28)

该版本包含一个问题修复。

* 修复了拖动 Hold 音符尾部导致游戏崩溃的问题。

## [v0.1.13](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.13) (2024-01-23)

该版本包含新特性与问题修复。

### 新特性

* 添加了 Timing 修改与修正的功能。详见 [Timing/修改 Timing Point](/guide/timing.html#修改-timing-point) 与 [Timing/Timing 修正](/guide/timing.html#timing-修正)。
* 现在支持多选不同侧面的音符并对其进行批量操作。详见 [谱面编辑/异侧多选](/guide/edit.html#异侧多选)。
* 现在支持同时对左右两侧的音符进行编辑操作。详见 [谱面编辑/双侧编辑](/guide/edit.html#双侧编辑)。
* 现在切换小节数/时间显示将显示准确的小节数。详见 [Timing/时间与小节数](/guide/timing.html#时间与小节数)。
* 现在在视觉一致的默认宽度模式下，粘贴/吸附的音符也会自动调整宽度。
* 支持了 .dy 谱面格式的导入。
* 现在对粒子效果的设置将被保存在项目中。
* 现在按住 <kbd>Shift</kbd> 能加速 <kbd>A/D</kbd> 的调整速度。
* 现在粘贴音符时调整宽度不会使音符的宽度还原。
  * 你仍可以使用 <kbd>Ctrl+V</kbd> 来手动将其还原。
* 现在可以按住 <kbd>Alt</kbd> 键来显示全部音符的信息。
* 在放置音符时添加了触发宽度调整的阈值。
  * 以此避免放置音符时对音符宽度调整的误操作。

### 本地化

* 补充/改进了英语翻译。

### 错误修复与改进

* 修复了过低帧率导致错误的 I/O 清空。
* 添加了针对早期版本 Dynamaker 谱面格式的导入警告并修复了相关的崩溃问题。
* 对多处过渡动画进行了修正与改进。
  * 避免了不必要的过渡。
  * 修正了部分不自然的闪烁。
* 修复了一些多语言的错误。
* 一些其它的改进。

### 功能移除

* 移除了手动修改 Bar 设置的选项。
  * 移除了全局 Bar/Offset 设置。
  * 移除了覆盖 Bar 设置之后的提示信息。

### 文档

* 现在文档将会在本地自动缓存，离线的状况下也可以进行访问。
* 现在你可以在页面的右上角对文档进行在线搜索。
* 多个条目进行了更新与修正。

## [v0.1.12.5](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.12.5) (2024-01-03)

该版本包含一些问题修复。

* 修复了 Chain 类型音符材质缺少像素的问题。
* 现在各帧率下过渡动画的表现将保持一致。
  * 不包含粒子动画。
* 修复了潜在的视频无法正常播放的问题。
* Gamemaker Runtime 更改至 v2023.11.1.160 。
  * 此更新能够带来一些问题修复与效率改进。

## [v0.1.12.4](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.12.4) (2023-11-24)

该版本包含一些问题修复与特性改动。

### 问题修复

* 修复了英文左括号 `[` 无法正确显示在标题的问题。
* 修复了 DyCore.dll 在旧系统无法正常加载的情况下游戏无法启动的问题。
* 修复了在复制模式下 `Ctrl+C` 后导致游戏崩溃的问题。
* 修复了视频播放相关的潜在崩溃问题。
* 修复了 IO 在窗口失去焦点时因时间阈值过高而没有被正确清空的问题。
* 移除了 libfilesystem 扩展以尝试修复其带来的一些问题。

### 特性改动

* 现在新建项目时默认的节拍线透明度为 50%, 0%, 0% （正面，左侧，右侧）。
* 现在项目的节拍线透明度设置会被保存。
* 优化了 Mixer 模拟对多押的处理。
* 现在导出至 Dynamaker-modified 的功能被分离至快捷键 <kbd>Ctrl+F5</kbd> 。
* 现在多选 Note 时会出现强调色提示拖拽的中心点。
* 修复了多选 Note 时拖拽中心点优先级选择的问题。
* 现在两侧 Note 的位置高亮会同时显示。

## [v0.1.12.3](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.12.3) (2023-09-05)

该版本包含一些问题修复与新特性。

### 问题修复

* 尝试修复删除音符可能导致游戏崩溃的问题。
* 修复了音乐播放完毕后音乐音量被重置的问题。
* 修复了背景光效有时静止的问题。

### 视觉改进

* 重构了分数板的布局与相关视觉调整，使其更接近原版Dynamix。
* TAB 工具栏中的文字显示优化。

### 新特性

* 现在同一时间上的音符将会被方块所高亮。
* 现在可以双击吸附音符。
  * 被双击的音符作为吸附的中心。
    ![双击吸附](guide/double_click.gif)
* 误差修正功能现在替代了毫秒取整功能。
  * 默认的情况下，误差2ms以内的连续音符将被对齐至这些音符中最早的位置。
* 添加了禁用变调 **（实验性）** 选项至 TAB 工具栏中。
  :::warning
  现阶段的禁用变调选项将显著增加声音延迟，并可能存在较多的隐含问题。
  :::
* 现在项目相关的文件将在项目保存时被复制到项目所在的目录下，并默认使用相对路径读取文件。
  * 这些相关的文件包括音乐、背景与视频文件。
  :::warning
  该版本的项目文件将破坏对较低版本的兼容性，在更新前请根据情况备份项目文件。
  :::

### 杂项

* Gamemaker Runtime 版本更新至 2023.6。


## [v0.1.12.2](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.12.2) (2023-07-05)

该版本包含一些问题修复。

* 移除了一个外部库，因此修复了其带来的一些问题，例如：
  * OBS无法通过游戏录制捕获DyNode画面。
  * 在对话框出现时点击游戏画面使得游戏响应变慢。
  * 前台的 DyNode 被 Windows 识别为后台应用。
  * 一些不明原因的卡顿问题。
* 修复了“NOTE DELETE ERROR”报错导致的游戏终止问题。
* Gamemaker Runtime 更新至 2023.6 。

## [v0.1.12.1](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.12.1) (2023-06-17)

该版本修复了 v0.1.12 中的一个主要问题。这个问题可能导致输出的谱面无法正常读取。

* 修复了 XML 解析器的一个问题，其可能导致导出的谱面有概率无法被正常读取。
  * 这个问题的原因是 XML 文件中第一行 XML Declaration 中 version 与 encoding 的属性顺序发生了错误，正确的写法应当为`<?xml version="1.0" encoding="UTF-8"?>`，而 DyNode 使用的 XML 解析器有概率将其输出为 `<?xml encoding="UTF-8" version="1.0"?>`。
  * 这个问题可能自 `v0.1.11.5` 版本起就会发生。
  * 移除了 XML Declaration 中的 encoding 属性。
* 稍微提高了一点 Hold 的亮度。

## [v0.1.12](https://github.com/NordLandeW/DyNode/releases/tag/v0.1.12) (2023-06-11)

DyNode v0.1.12 相对于 v0.1.11 产生的主要变化如下。

### 新特性

* 新增了三种节拍线样式，详见 [谱面编辑/节拍线样式](guide/edit#节拍线样式)。
* 现在音符中心方块的颜色表现更贴近原版 Dynamaker。
* 新增了调整延迟的功能，详见 [谱面编辑/延迟调整](guide/edit#延迟调整)。
* 新增了顶部工具栏与调整音量 / 背景亮度的功能，详见 [谱面编辑/工具栏](guide/edit#工具栏)。
* 新增了设置自定义细分的功能，详见 [谱面编辑/自定义节拍细分](guide/edit#自定义节拍细分)。
* 新增了实验性的功能：表达式。详见 [高级功能/表达式](guide/advanced-edit#表达式)。
* 新增了英文/繁体中文的语言。
  * 感谢 @Jmakxd 提供了英语/繁体中文翻译。
* 现在撤销/重做时编辑界面所在的时间点将会自动移动到撤销/重做发生的时间段。
* 新增了撤销操作次数的上限（3000）。

### 问题修复

* 修复了撤销/重做时出界警告未被正确触发的问题。
* 修复了视频背景透明度未被正确计算的问题。
* 修复了重载配置时粒子系统未被重设的问题。
* 修复了设置全局 Bar 不起作用的问题。
* 修复了潜在的撤回导致程序崩溃的问题。
* 修复了在不同刷新率下滚轮移动谱面速度不同的问题。
* 修复了任意一面不存在音符的情况下导入/导出xml崩溃的问题。
* 修复了删除 Hold 音符时 SUB 音符可能未被删除的问题。
* 修复了在特定情况下 Hold 不会按预期显示的问题。
* 修复了背景渐变动画在歌曲开始之前静止的问题。
* 修复了错误的音符统计数目。
* 修复了节拍线在负数 Bar 下不会正常显示的问题。

### 视觉改进

* 现在 Hold 音符的边界不会互相遮挡。
  * 重构了音符绘制的流程。
* 提高了标题的透明度。
* 降低了 Hold 音符背景的亮度。

### 性能改进

* 现在节拍线在不必要的时候将不会被绘制。
* 其它的性能改进。

### 杂项

* 新增了“关于”页面。
* 现在流速设置将被保存到项目中。
* 你可以使用 <kbd>Ctrl+F6</kbd> 来随机化谱面（0.1.11.1.4.1）。
* 添加了对音符宽度的限制（$>0.01$）。
* Gamemaker Runtime 版本更新至 2023.4 。